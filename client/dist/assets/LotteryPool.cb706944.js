import{r as i,j as a,a as t,L as c}from"./vendor.4866d11d.js";import{C as f,L as u}from"./index.7bafaf25.js";function N(){const[o,m]=i.exports.useState(0),{lotteriesDetails:r,initLotteryPool:x,startLottery:p,isLoading:l,provider:d}=i.exports.useContext(f);i.exports.useEffect(()=>{x(),d&&d.getBlock().then(e=>{m(()=>+e.timestamp)})},[o]);const h=()=>{const e=prompt("lottery end time in minutes?");p(+e)},s=e=>(console.log(e-o),Math.floor((e-o)/60));return a("div",{className:"flex-1 bg-slate-900 space-y-8 text-slate-200 p-4",children:t("div",{className:"container mx-auto max-w-8xl p-4",children:[a("button",{className:"border border-teal-400 p-2 rounded-lg text-teal-400 my-4 hover:shadow-lg hover:shadow-teal-900",onClick:h,children:"create lottery"}),a("h2",{className:"text-4xl font-thin py-2 text-teal-400 tracking-wide",children:"Available Lotteries"}),t("div",{className:"flex flex-row gap-4 flex-wrap",children:[l&&a(u,{full:!0}),r.length>0&&!l&&r.map((e,n)=>{if(!(n>5)&&+s(e.endedTimeStamp)>0)return t(c,{to:`/lottery/${e.lotteryContract}`,className:"p-4 w-full md:min-w-[120px] md:min-h-[70px] md:max-w-[340px] md:max-h-[100px] border border-indigo-400 rounded-xl bg-slate-800 transition duration-300 hover:shadow-lg hover:shadow-indigo-900",children:[t("h2",{className:"text-slate-300 font-semibold tracking-wider text-xl",children:["lottery #",n+1]}),t("span",{children:["Ending in ",t("span",{className:"text-teal-600",children:[s(e.endedTimeStamp)," mins"]})]}),t("p",{className:"truncate",children:["address:"," ",a("span",{className:"text-xs text-teal-500",children:e.lotteryContract})]})]},e.lotteryContract)})]}),a("h2",{className:"text-4xl font-thin py-2 text-teal-400 tracking-wide mt-4",children:"Ended Lotteries"}),a("div",{className:"flex flex-row gap-4 flex-wrap",children:r.length>0&&!l&&r.map((e,n)=>{if(!(n>5)&&+s(e.endedTimeStamp)<0)return t(c,{to:`/lottery/${e.lotteryContract}`,className:"p-4 w-full md:min-w-[120px] opacity-50 transform  blur-[0.5px] md:min-h-[70px] md:max-w-[340px] md:max-h-[100px] border border-red-600 rounded-xl bg-slate-800",children:[t("h2",{className:"text-slate-300 font-semibold tracking-wider text-xl",children:["lottery #",n+1]}),t("span",{children:["Ending in ",t("span",{className:"text-red-600",children:[s(e.endedTimeStamp)," mins"]})]}),t("p",{className:"truncate",children:["address:"," ",a("span",{className:"text-xs text-teal-500",children:e.lotteryContract})]})]},e.lotteryContract)})}),!(r.length>0||l)&&a("p",{children:"No Lottery Available"})]})})}export{N as default};
