var E=Object.defineProperty,L=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var y=(r,a,t)=>a in r?E(r,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[a]=t,g=(r,a)=>{for(var t in a||(a={}))C.call(a,t)&&y(r,t,a[t]);if(x)for(var t of x(a))F.call(a,t)&&y(r,t,a[t]);return r},p=(r,a)=>L(r,j(a));import{r as s,a as l,m as i,j as e,F as P}from"./vendor.9ba1e65a.js";import{N as T}from"./Notification.2589a030.js";import{C as k}from"./index.027d17fa.js";function R(){const{initLottery:r,lotteryTimeRemaining:a,lotteryManager:t,lotteryEntryFee:m,lotteryPlayers:o,lotteryWinner:u,isLoading:S,isEther:b,lotteryPrice:h,currentAccount:n}=s.exports.useContext(k),[f,v]=s.exports.useState({lotteryTimeRemaining:0,lotteryManager:null,lotteryEntryFee:0,lotteryPlayers:[],lotteryWinner:null,lotteryPrice:0}),[N,w]=s.exports.useState(!1);s.exports.useEffect(()=>{n===t.toLocaleLowerCase()&&(n||t.toLocaleLowerCase()!==null)&&w(!0)},[n]),s.exports.useEffect(()=>{async function c(){await r(),v(()=>p(g({},f),{lotteryTimeRemaining:a,lotteryManager:t,lotteryEntryFee:m,lotteryPlayers:o,lotteryWinner:u,lotteryPrice:h}))}c()},[]);const d={hidden:{opacity:0,y:300},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:75,delay:.1}}};return l("div",{className:"flex-1 bg-main bg-cover bg-fixed pt-5 space-y-8 text-slate-200",children:[l(i.div,{className:"container bg-zinc-900 mx-auto border border-slate-500 p-4 my-4 rounded-lg max-w-lg",variants:d,initial:"hidden",animate:"visible",children:[l("h1",{className:"antialiased font-medium text-2xl tracking-wide",children:["Lottery Game"," ",n&&e("span",{className:"text-xs p-2 bg-slate-200 rounded-full text-teal-700 antialiased font-bold",children:"Started"})]}),l("div",{className:"pt-3",children:[l("h3",{className:"text-sm",children:["Total Players:"," ",e("span",{className:"text-teal-400 text-lg",children:o.length})]}),l("h3",{className:"text-sm",children:["Manager:"," ",e("span",{className:"text-teal-400 text-xs",children:e("a",{href:`https://ropsten.etherscan.io/address/${t}`,target:"_blank",rel:"noreferrer",className:"text-xs tracking-wide uppercase text-teal-400",children:t})})]}),l("h3",{className:"text-sm",children:["Entry Fee:"," ",e("span",{className:"text-teal-400 text-lg",children:+m/10**18})," ","ETH"]}),l("h3",{className:"text-sm",children:["Total Price:"," ",e("span",{className:"text-teal-400 text-lg",children:+h/10**18})," ","ETH"]})]})]}),n?e(i.div,{className:"container mx-auto bg-zinc-900 border border-slate-500 p-5 my-4 rounded-lg max-w-lg",variants:d,initial:"hidden",animate:"visible",children:e("div",{className:"flex flex-row gap-2 justify-evenly",children:N?l(P,{children:[e("button",{type:"button",className:"px-3 py-2 bg-green-400 rounded-lg text-slate-800 hover:shadow-lg hover:shadow-green-600",children:"Start"}),e("button",{type:"button",className:"px-3 py-2 bg-yellow-400 rounded-lg text-slate-800 hover:shadow-lg hover:shadow-yellow-600",children:"Enter"}),e("button",{type:"button",className:"px-3 py-2 bg-red-400 rounded-lg text-slate-800 hover:shadow-lg hover:shadow-red-600",children:"End"})]}):e("button",{type:"button",className:"px-6 py-2 bg-yellow-400 rounded-lg text-slate-800 hover:shadow-lg hover:shadow-yellow-600",children:"Enter"})})}):e(i.div,{className:"container mx-auto bg-zinc-900 border border-slate-500 p-5 my-4 rounded-lg max-w-lg",variants:d,initial:"hidden",animate:"visible",children:e("div",{className:"flex flex-row gap-2 antialiased tracking-wider text-slate-200 justify-evenly",children:"\u26A0\uFE0F Connect your wallet to participate in the lottery"})}),n&&l(i.div,{className:"container mx-auto border border-slate-700 text-slate-400 light-gradient p-4 my-4 rounded-lg max-w-lg",initial:{opacity:0},animate:{opacity:1},transition:{duration:2.1},children:[e("h1",{className:"antialiased font-medium text-2xl tracking-wide",children:"Players"}),o.map(c=>e("li",{children:c}))]}),e(T,{props:{id:"Lottery",isEther:b,account:n}})]})}export{R as default};
